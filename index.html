<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>SurreyLearn | Mathematics Engagement</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --duo-blue: #1cb0f6;
            --duo-green: #78c800;
            --duo-green-border: #58a700;
            --duo-gray: #afafaf;
            --duo-border: #e5e5e5;
            --surrey-navy: #003366;
            --text-dark: #4b4b4b;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background-color: #ffffff;
            color: var(--text-dark);
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .app-wrapper {
            width: 100%;
            max-width: 600px;
            padding: 20px;
            box-sizing: border-box;
        }

        /* --- STAG MASCOT SECTION --- */
        .mascot-row {
            display: flex;
            align-items: center;
            gap: 15px;
            margin: 20px 0 40px 0;
        }

        .stag-wrapper {
            position: relative;
            flex-shrink: 0;
        }

        .stag-circle {
            width: 90px;
            height: 90px;
            background: #f1f1f1;
            border-radius: 50%;
            border: 3px solid var(--duo-border);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 50px; /* Temporary Stag Emoji */
        }

        .speech-bubble {
            background: white;
            border: 2px solid var(--duo-border);
            border-radius: 18px;
            padding: 15px 20px;
            position: relative;
            box-shadow: 0 4px 0 var(--duo-border);
            font-weight: 700;
            font-size: 1.1em;
            color: var(--text-dark);
            line-height: 1.4;
        }

        /* Bubble arrow */
        .speech-bubble::before {
            content: '';
            position: absolute;
            left: -12px;
            top: 50%;
            transform: translateY(-50%);
            border-top: 10px solid transparent;
            border-bottom: 10px solid transparent;
            border-right: 12px solid var(--duo-border);
        }

        .speech-bubble::after {
            content: '';
            position: absolute;
            left: -9px;
            top: 50%;
            transform: translateY(-50%);
            border-top: 9px solid transparent;
            border-bottom: 9px solid transparent;
            border-right: 11px solid white;
        }

        /* --- CHUNKY CARDS --- */
        .duo-card {
            border: 2px solid var(--duo-border);
            border-radius: 18px;
            padding: 24px;
            margin-bottom: 24px;
            box-shadow: 0 4px 0 var(--duo-border);
        }

        .section-label {
            color: var(--duo-gray);
            font-weight: 800;
            text-transform: uppercase;
            font-size: 0.85em;
            letter-spacing: 1px;
            margin-bottom: 15px;
        }

        /* --- PROGRESS BAR --- */
        .progress-bar-bg {
            background: #e5e5e5;
            height: 16px;
            border-radius: 20px;
            overflow: hidden;
            margin: 15px 0;
        }

        .progress-bar-fill {
            background: var(--duo-blue);
            height: 100%;
            width: 75%; /* Example Progress */
            border-radius: 20px;
            transition: width 0.5s ease;
        }

        /* --- LEADERBOARD --- */
        .rank-item {
            display: flex;
            align-items: center;
            padding: 12px 10px;
            border-bottom: 2px solid var(--duo-border);
            font-weight: 700;
        }

        .rank-item:last-child { border-bottom: none; }

        .rank-num { width: 30px; color: var(--duo-gray); }
        .rank-alias { flex-grow: 1; }
        .rank-points { color: var(--duo-blue); }

        .rank-item.user-highlight {
            background: #ddf4ff;
            color: #1899d6;
            border-radius: 12px;
            border-bottom-color: transparent;
        }

        /* --- BUTTONS --- */
        .duo-btn {
            background-color: var(--duo-green);
            color: white;
            border: none;
            border-radius: 15px;
            padding: 16px;
            width: 100%;
            font-family: 'Nunito', sans-serif;
            font-weight: 800;
            font-size: 1.1em;
            text-transform: uppercase;
            cursor: pointer;
            box-shadow: 0 4px 0 var(--duo-green-border);
            transition: all 0.1s;
        }

        .duo-btn:active {
            transform: translateY(4px);
            box-shadow: none;
        }

        /* --- FOOTER/SYNC --- */
        .sync-text {
            text-align: center;
            font-size: 0.75em;
            color: var(--duo-gray);
            font-weight: 700;
            margin-top: 30px;
            text-transform: uppercase;
        }
    </style>
</head>
<body>

<div class="app-wrapper">

    <div class="mascot-row">
        <div class="stag-wrapper">
            <div class="stag-circle">
                ðŸ¦Œ
            </div>
        </div>
        <div class="speech-bubble">
            Amazing effort! You've climbed 3 spots in the <span style="color:var(--duo-blue)">Q2 Leaderboard</span> this week!
        </div>
    </div>

    <div class="duo-card">
        <div class="section-label">Current Status</div>
        <div style="display: flex; justify-content: space-between; align-items: center;">
            <div style="font-size: 3.5em; font-weight: 800; color: var(--surrey-navy);">Q2</div>
            <div style="text-align: right;">
                <div class="section-label" style="margin:0;">Points</div>
                <div style="font-size: 1.8em; font-weight: 800;">1,450</div>
            </div>
        </div>
        
        <div class="section-label" style="margin-top: 25px;">Progress to Q1</div>
        <div class="progress-bar-bg">
            <div class="progress-bar-fill"></div>
        </div>
        <div style="font-weight: 700; font-size: 0.9em; text-align: center;">75% of the way there!</div>
    </div>

    <div class="duo-card">
        <div class="section-label">Quartile 2 Rankings</div>
        <div class="rank-list">
            <div class="rank-item">
                <span class="rank-num">1</span>
                <span class="rank-alias">AquaFalcon_99</span>
                <span class="rank-points">1,620</span>
            </div>
            <div class="rank-item user-highlight">
                <span class="rank-num">2</span>
                <span class="rank-alias">CyberSurrey_01 (You)</span>
                <span class="rank-points">1,450</span>
            </div>
            <div class="rank-item">
                <span class="rank-num">3</span>
                <span class="rank-alias">NeonStag_22</span>
                <span class="rank-points">1,380</span>
            </div>
            <div class="rank-item">
                <span class="rank-num">4</span>
                <span class="rank-alias">SilverEcho_04</span>
                <span class="rank-points">1,100</span>
            </div>
        </div>
    </div>

    <div class="duo-card" style="background-color: #fff9e6; border-color: #ffd900; box-shadow: 0 4px 0 #ffd900;">
        <div class="section-label" style="color: #af8f00;">Reward Available</div>
        <div style="font-weight: 800; font-size: 1.2em; margin-bottom: 15px;">One "Test Pass" Unlocked!</div>
        <button class="duo-btn">Claim Now</button>
    </div>

    <div id="github-sync" class="sync-text">
        Syncing with SurreyLearn repository...
    </div>

</div>

<script>
    // GitHub API Verification Logic
    async function fetchSystemUpdate() {
        const username = 'OSK03';
        const repo = 'FY-06867178';
        const statusEl = document.getElementById('github-sync');

        try {
            // Fetching commits to get the most accurate "Last Modified" time
            const response = await fetch(`https://api.github.com/repos/${username}/${repo}/commits`);
            
            if (!response.ok) throw new Error();

            const commits = await response.json();
            if (commits && commits.length > 0) {
                const lastDate = new Date(commits[0].commit.committer.date);
                statusEl.innerText = `Verified System Sync: ${lastDate.toLocaleDateString()} @ ${lastDate.toLocaleTimeString()}`;
            }
        } catch (error) {
            statusEl.innerText = "System Offline | Local Identity Mode Active";
        }
    }

    // Initialize sync on page load
    window.onload = fetchSystemUpdate;
</script>

</body>
</html>
